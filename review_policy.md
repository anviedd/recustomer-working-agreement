# Recustomer Code Review Policy

## Recustomer Review Stance
- レビュー最優先！
```
ある個人がレビューに速やかに返事をしなかったとしても、他の仕事を進めることはできます。しかし、各 CL のレビューや再レビューの遅れが積み重なれば、チームの残りのメンバーが行う新しい機能やバグの修正に、数日、数週間、数ヶ月の遅れが生じてしまいます。
```
```
レビュアが同一の大きな変更を要求したしても、開発者が変更をするたびにすみやかに返事が返ってくれば、不満は無くなる傾向があります。コードレビューのプロセスに関する不満の大部分は、実際にはレビューのプロセスをすみやかに行うことによって解消されます。
```
```
レビューが遅いと、開発者に完璧ではない CL を提出しないようにさせる圧力が掛かります。さらに、レビューが遅いと、コードのクリーンアップ、リファクタリング、既存の CL に対する追加の改善をしようとする気持ちも弱めてしまいます。
```
https://google-engineering-practices.translation.shuuji3.xyz/review/reviewer/speed.html

- レビューをポジティブなコミュニケーションの場にする！
    - 相手のことを最大限にリスペクトし、レビュワーがコメントするときには、「いつもの5倍高いテンション」をイメージして書く！(！や絵文字を意識的に使用する、ポジティブな言葉を使う)


## Rules
### Reviewee Policy
#### Create 
- レビューを依頼する際には、プルリクエスト画面右上の`Reviewer`にレビュワーの人を設定する
- レビュワーがわかりやすいように、複雑なところや引っかかりそうなところはPR作成者がコメントをつける
- 動作を実画面で確認する必要がある場合については、そのことをレビュー依頼時に明確に伝える

#### Comment
- レビュワーからのコメントの内容に対して、対象のPRではなく別Issueで対応したい場合、レビュワーに提案することができる。ただし対象のプルリクエストで対応する必要があることをレビュワーにコメントもらった場合については、対応する必要がある
- レビュワーからのQのコメントについては、必ず回答すること

#### Remind
- レビュー依頼から2時間経過した場合、リマインドの連絡をしても良い
- ただしHotfixなど緊急度が高いプルリクエストについては、2時間より早い時間に依頼して良い
- レビュー依頼から4時間以上経過した場合、別のメンバーにレビュー依頼しても良い

### Reviewer Policy
#### Comment label
- レビュワーがコメントするときには必ず下記のいずれかのプレフィックスをつける
    - PRAISE : 賞賛 (Prise) ※意識的につけましょう！！
    - MUST : 必須 (Must)
    - IMO : 提案 (In my opinion)
    - NITS : あら捜し (Nitpick)
    - NR : お手すきで (No rush)
    - Q : 質問 (Question)
    - FYI : 参考まで (For your information) 
    - TYPO : タイポミス？（Typo）
- 下記プレフィックスのコメントがある場合にはPRを承認することはできない
    - MUST : 必須 (Must)
    - Q : 質問 (Question)
- MUSTのコメントをする際、下記について考慮する
    - なぜ必須なのか、理由や背景を明確にコメントする
    - 明確に修正してほしい内容があれば、サンプルコードを必ず提供する
- プレフィックスがついていないコメントは「NR」とする

### Other
- レビュワーのライトパーソンが休暇や緊急対応中など半日以内にレビューすることが困難であることが予想される場合、他のレビュワーを設定しても良い
    - ただし、ライトパーソンをccに入れること
    - ccに設定されたメンバーは、後日レビューしてコメントをして良い
        - コメントされた内容については、レビュイーは必ず返信をすること
        - 修正が必要な場合はLinearにIssueを作成して、必ず対応すること

- レビュワーに設定されたが、休暇中や自身の作業に集中する必要がある場合、下記のいずれかの対応を行う
    - すぐにレビューできないことと、何時ごろレビューできるかコメントする
    - 別のメンバーをレビュワーに推薦する
        - 別レビュワーを推薦した後、後日自身もレビューを行ってコメントなどしても良い
